<% content_for :head do %>
  <meta name="robots" content="noindex">
<% end %>

<%= render 'debug' %>

<%= render "govuk_publishing_components/components/title", {
  title: @presenter.title
} %>

<% question = @presenter.current_node %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= form_tag calculate_current_question_path(@presenter), :method => :get %>
      <div class="current-question" id="current-question">

        <div class="question" data-debug-template-path="<%= question.relative_erb_template_path %>">
          <div class="question-body">
            <%
              show_body = ['salary_question', 'country_select_question'].include? question.partial_template_name
            %>
            <% if question.body.present? && show_body %>
              <article role="article">
                <%= question.body %>
              </article>
            <% end %>

            <div class="<%= question.error && 'error' %>">
              <%= render partial: "smart_answers/inputs/#{question.partial_template_name}", locals: { question: question } %>

              <%= question.post_body %>
            </div>
          </div>
        </div>

        <div class="next-question">
          <input type="hidden" name="next" value="1" />
          <%= render "govuk_publishing_components/components/button", {
            text: "Next step"
          } %>
        </div>
      </div>
    </form>
  </div>
</div>

<%= render 'previous_answers' %>
